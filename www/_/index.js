(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();function w(e,n,o,r){const t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");t.onreadystatechange=()=>{t.readyState===XMLHttpRequest.DONE&&t.status===200&&n(o,t.responseText,r)},t.open("GET",e),t.send()}function _(e,n,o,r){const t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");t.onreadystatechange=()=>{t.readyState===XMLHttpRequest.DONE&&t.status===200&&n(t.responseText,r)},t.open("POST",e,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(o)}function v(e,n,o){if(e==="ww_a19f7d045f952")var r="celsius",t="https://weatherwidget.org/tr/",s="Hava Durumu Widget HTML",u=`Web Sitesine <a href="${t}" id="${e}_u" target="_blank">${s}</a> G\xF6m`;if(e==="ww_10d14ab7c31aa")var r="fahrenheit",t="https://weatherwidget.org/pl/",s="HTML Widget Pogodowy",u=`Bezp\u0142atny <a href="${t}" id="${e}_u" target="_blank">${s}</a> dla Witryny`;const g="1.3",p=`{"t":"horizontal","lang":"en","sl_lpl":1,"ids":[],"sl_ics":"one_a","sl_sot":"${r}","cl_bkg":"image","cl_font":"#FFFFFF","cl_cloud":"#FFFFFF","cl_persp":"#81D4FA","cl_sun":"#FFC107","cl_moon":"#FFC107","cl_thund":"#FF5722"}`,y="auto",h=`${t}|||${s}`,b=`v=${g}&a=${p}&l=${y}&u=${h}&ub=${o===1?"":u}&i=${n}&g=${o}&id=${e}`;_("https://app1.weatherwidget.org/data/",q,b,e)}function q(e,n){if(e=typeof JSON.parse>"u"?JSON.decode(e):JSON.parse(e),e.hasOwnProperty("a")){if(e.a.hasOwnProperty("html")&&(document.getElementById(n).innerHTML=e.a.html),e.a.hasOwnProperty("style")&&(document.getElementById(n).style.cssText=e.a.style),e.a.hasOwnProperty("jsCode")){const o=document.createElement("script");o.type="text/javascript",o.async=!1,o.text=e.a.jsCode,document.getElementsByTagName("head")[0].appendChild(o)}e.a.hasOwnProperty("ub")&&(document.getElementById(n+"_info_box_inner").innerHTML=e.a.ub,updateInfobox(n,e.a.ub),loadingToggle(n,2))}else e.hasOwnProperty("error_code")&&(document.getElementById(n).innerHTML="",console.log(`[weatherwidget.org] Error: ${e.error_msg} (Error code ${e.error_code})`))}function d(e,n){n===1&&loadingToggle(e,1),w("https://api.ipify.org/",v,e,n)}d("ww_a19f7d045f952",0);d("ww_10d14ab7c31aa",0);const m="https://localhost:3033";async function S(){const e=document.querySelector("#guess_number"),n=document.querySelector("#guess_list"),o=document.querySelector("#guess_last"),r=document.querySelector("#guess_hint"),t=Number(e.value),s=await fetch(`${m}/guess/${f}/${t}`).then(u=>u.json());if(s.rem<0||s.status===404){alert(`Server refused: unknown ${s.rem<0?"token":"error"}. The game will try to restart.`),await i();return}if(a++,a===1&&(n.textContent="Previous guesses:"),n.textContent+=` ${t}`,s.eq)o.textContent="Congratulations! You got it right!",o.style.backgroundColor="green";else if(s.rem==0)o.textContent="!!!GAME OVER!!!",s.answer&&(o.textContent+=` The answer is ${s.answer}.`);else{o.textContent="Wrong!",o.style.backgroundColor="red",s.lt&&(r.textContent="Last guess was too low!"),s.gt&&(r.textContent="Last guess was too high!"),e.value=null,e.focus();return}e.value=null,r.textContent=null,await x()}async function x(){const e=document.querySelector("#guess_submit"),n=document.querySelector("#guess_number");e.disabled=!0,n.disabled=!0;const o=document.createElement("button");o.type="button",o.textContent="Start new game",document.querySelector("#result").appendChild(o),o.addEventListener("click",i);const r=document.createElement("button");r.type="button",r.textContent="Reselect level",document.querySelector("#result").appendChild(r),r.addEventListener("click",()=>location.reload())}async function i(){const e=document.querySelectorAll("#result>p"),n=document.querySelectorAll("#result>button"),o=document.querySelector("#guess_last"),r=document.querySelector("#guess_submit"),t=document.querySelector("#guess_number");f=(await fetch(`${m}/new/${l.min}/${l.max}/${l.chance}`).then(u=>u.json())).uid,a=0;for(const u of e)u.textContent=null;for(const u of n)u.parentNode.removeChild(u);r.disabled=!1,t.disabled=!1,t.value=null,t.focus(),o.style.backgroundColor=null}function c(e){const n=document.querySelector("#info1>p");n.textContent=n.textContent.replace(/-?\d+ and -?\d+/,`${e.min} and ${e.max}`).replace(/in \d+/,`in ${e.chance}`),document.querySelector("#info0").hidden=!0,document.querySelector("#info1").hidden=!1,document.querySelector("#guess").hidden=!1,document.querySelector("#guess_number").min=e.min,document.querySelector("#guess_number").max=e.max,l=e,i()}let f,l,a;document.querySelector("#lv1").addEventListener("click",()=>c({min:1,max:100,chance:10}));document.querySelector("#lv2").addEventListener("click",()=>c({min:1,max:1e3,chance:12}));document.querySelector("#lv3").addEventListener("click",()=>c({min:1,max:1e4,chance:15}));document.querySelector("#lv0").addEventListener("click",()=>{const e=parseInt(prompt("Please input the minimum",1)),n=parseInt(prompt("Please input the maximum",100)),o=Math.abs(parseInt(prompt("Please input the number of chances",10)));e<n?c({min:e,max:n,chance:o}):c({min:n,max:e,chance:o})});document.querySelector("form#guess").addEventListener("submit",e=>{e.preventDefault(),S()});
